<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_13) on Fri Jul 15 19:51:33 GMT+01:00 2011 -->
<TITLE>
ABCMacro
</TITLE>

<META NAME="keywords" CONTENT="org.herac.tuxguitar.io.abc.base.ABCMacro class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ABCMacro";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ABCMacro.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/herac/tuxguitar/io/abc/base/ABCLocation.html" title="class in org.herac.tuxguitar.io.abc.base"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/herac/tuxguitar/io/abc/base/ABCOctaveDatabase.html" title="class in org.herac.tuxguitar.io.abc.base"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ABCMacro.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.herac.tuxguitar.io.abc.base</FONT>
<BR>
Class ABCMacro</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by"><B>org.herac.tuxguitar.io.abc.base.ABCMacro</B>
</PRE>
<HR>
<DL>
<DT>public class <B>ABCMacro</B><DT>extends java.lang.Object</DL>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>peter
 <p>
 <b>Macros</b>
 <p>
  This standard defines an optional system of macros which is principally used to define the way in which ornament symbols 
  such as the tilde ~ are played (although it could be used for many other purposes).
  <p> 
  Software implementing these macros, should first expand the macros defined in this section, 
  and only afterwards apply any relevant U: replacement (see section Redefinable symbols). 
  <p>
  When these macros are stored in an ABC Header file (see section Include field), they may form a powerful library. 
  <p>
  There are two kinds of macro, called Static and Transposing.
  <p> 
 <b>Static macros</b>
 <p>
  You define a static macro by writing into the tune header something like this:
  <p> 
  m: ~G3 = G{A}G{F}G
  <p>
  When you play the tune, the program searches the tune header for macro definitions, 
  then does a search and replace on its internal copy of the text before passing that 
  to the parser which plays the tune. Every occurence of ~G3 in the tune is replaced 
  by G{A}G{F}G, and that is what gets played. Only ~G3 notes are affected,
  ~G2, ~g3, ~F3 etc. are ignored. 
  <p>
  You can put in as many macros as you want, and indeed, if you only use static macros 
  you will need to write a separate macro for each combination of pitch and note-length. 
  Here is an example:
  <pre> 
 X:50
 T:Apples in Winter
 S:Trad, arr. Paddy O'Brien
 R:jig
 E:9
 m: ~g2 = {a}g{f}g
 m: ~D2 = {E}D{C}D
 M:6/8
 K:D
 G/2A/2|BEE dEE|BAG FGE|~D2D FDF|ABc ded|
 BEE BAB|def ~g2 e|fdB AGF|GEE E2:|
 d|efe edB|ege fdB|dec dAF|DFA def|
 [1efe edB|def ~g2a|bgb afa|gee e2:|
 [2edB def|gba ~g2e|fdB AGF|GEE E2||
 </pre>
 <p>
  Here I have put in two static macros, since there are two different notes in the tune marked with a tilde. 
  <p>
  A static macro definition consists of four parts:
  <ul><li> 
  the field identifier m:
  </li><li>
  the target string - e.g ~G3
  </li><li>
  the equals sign
  </li><li>
  the replacement string - e.g. G{A}G{F}G
  </li></ul>
  <p>
  The target string can consist of any string up to 31 characters in length, 
  except that it may not include the letter 'n', for reasons which will become obvious later. 
  You don't have to use the tilde, but of course if you don't use a legal combination of abc, 
  other programs will not be able to play your tune. 
  <p>
  The replacement string consists of any legal abc text up to 200 characters in length. 
  It's up to you to ensure that the target and replacement strings occupy the same time 
  interval (the program does not check this). Both the target and replacement strings may 
  have spaces embedded if necessary, but leading and trailing spaces are stripped off so 
  <p>
 m:~g2={a}g{f}g
 <p>
  is perfectly OK, although less readable. 
 <p><b>Transposing macros</b>
  If your tune has ornaments on lots of different notes, and you want them to all play 
  with the same ornament pattern, you can use transposing macros to achieve this. 
  Transposing macros are written in exactly the same way as static macros, except that 
  the note symbol in the target string is represented by 'n' (meaning any note) and the 
  note symbols in the replacement string by other letters (h to z) which are interpreted 
  according to their position in the alphabet relative to n.
  <p> 
  So, for example I could re-write the static macro m: ~G3 = G{A}G{F}G as a transposing 
  macro m: ~n3 = n{o}n{m}n. When the transposing macro is expanded, any note of the form 
  ~n3 will be replaced by the appropriate pattern of notes. 
  Notes of the form ~n2 (or other lengths) will be ignored, so you will have to write 
  separate transposing macros for each note length. 
  <p>
  Here's an example:
  <pre> 
 X:35
 T:Down the Broom
 S:Trad, arr. Paddy O'Brien
 R:reel
 M:C|
 m: ~n2 = (3o/n/m/ n                % One macro does for all four rolls
 K:ADor
 EAAG~A2 Bd|eg~g2 egdc|BGGF GAGE|~D2B,D GABG|
 EAAG ~A2 Bd|eg~g2 egdg|eg~g2 dgba|gedB BAA2:|
 ~a2ea agea|agbg agef|~g2dg Bgdg|gfga gede|
 ~a2 ea agea|agbg ageg|dg~g2 dgba|gedB BA A2:|
 </pre>
 <p>
  A transposing macro definition consists of four parts:
  <ul><li> 
  the field identifier m:
  </li><li>
  the target string - e.g ~n3
  </li><li>
  the equals sign
  </li><li>
  the replacement string - e.g. n{o}n{m}n
  </li></ul>
  <p>
  The target string can consist of any string up to 31 characters in length, 
  except that it must conclude with the letter 'n', followed by a number 
  which specifies the note length. 
  <p>
  The replacement string consists of any legal abc text up to 200 characters in length, 
  where note pitches are defined by the letters h - z, the pitches being interpreted 
  relative to that of the letter n. Once again you should ensure that the time intervals match. 
  You should not use accidentals in transposing macros (I can't for the life of me think of a way 
  to transpose ~=a3 or ~^G2 which will work correctly under all circumstances, so if you need to 
  do this you must use a static macro.) 
 <p></DD>
<DT><B>See Also:</B><DD><A HREF="../../../../../../org/herac/tuxguitar/io/abc/base/ABCSymbol.html" title="class in org.herac.tuxguitar.io.abc.base"><CODE>ABCSymbol</CODE></A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/herac/tuxguitar/io/abc/base/ABCMacro.html#ABCMacro(java.lang.String)">ABCMacro</A></B>(java.lang.String&nbsp;string)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/herac/tuxguitar/io/abc/base/ABCMacro.html#execute(java.lang.String)">execute</A></B>(java.lang.String&nbsp;line)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/herac/tuxguitar/io/abc/base/ABCMacro.html#getName()">getName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/herac/tuxguitar/io/abc/base/ABCMacro.html#isValid()">isValid</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="ABCMacro(java.lang.String)"><!-- --></A><H3>
ABCMacro</H3>
<PRE>
public <B>ABCMacro</B>(java.lang.String&nbsp;string)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="execute(java.lang.String)"><!-- --></A><H3>
execute</H3>
<PRE>
public java.lang.String <B>execute</B>(java.lang.String&nbsp;line)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getName()"><!-- --></A><H3>
getName</H3>
<PRE>
public java.lang.String <B>getName</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isValid()"><!-- --></A><H3>
isValid</H3>
<PRE>
public boolean <B>isValid</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ABCMacro.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/herac/tuxguitar/io/abc/base/ABCLocation.html" title="class in org.herac.tuxguitar.io.abc.base"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/herac/tuxguitar/io/abc/base/ABCOctaveDatabase.html" title="class in org.herac.tuxguitar.io.abc.base"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ABCMacro.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
